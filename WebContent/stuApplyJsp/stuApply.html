<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>考生報名</title>
<script type="text/javascript">
	function genBirthday()
	{
		var y = document.getElementById('varYear');
		var m = document.getElementById('varMonth');
		var d = document.getElementById('varDate');
		var bd = y.options[y.selectedIndex].value + 
				 m.options[m.selectedIndex].value + 
				 d.options[d.selectedIndex].value;
		document.getElementById('stud_birthday').value   = bd;
	}

	function formCheck(inFm){
		str="";
		if(inFm.stud_name.value.length<2)
		{
			str+="- 姓名長度必須需大於1位\n";
		}
		
		if(!idCheck())
		{
			str+="- 身分證號碼有錯誤\n";
		}
		
		if(!(inFm.stud_gender[0].checked ||  inFm.stud_gender[1].checked))
		{
			str+="- 性別未選擇\n";
		}
		
		if((inFm.varYear.options[inFm.varYear.selectedIndex].value == "1960年") &&
		   (inFm.varMonth.options[inFm.varMonth.selectedIndex].value == "1月") &&	
		   (inFm.varDate.options[inFm.varDate.selectedIndex].value == "1日")   )
		{
			str+="- 生日未選擇\n";
		}
		
		if(inFm.stud_address.value.length<9)
		{
			str+="- 聯絡地址不完整\n";
		}
		
		if(inFm.stud_phone_num.value.length<7)
		{
			str+="- 聯絡電話不完整\n";
		}
		
		if(str.length>0)
		{
			alert(str);
			inFm.stud_name.focus();
			return false;
		}
		else
		{
			applyForm.submit();
		}
	}
	
	function idCheck(){
		var city = new Array(  
				         1,10,19,28,37,46,55,64,39,73,82, 2,11,  
				        20,48,29,38,47,56,65,74,83,21, 3,12,30  
				    )  
				   id = applyForm.stud_id.value.toUpperCase();  
				    // 使用「正規表達式」檢驗格式  
				    if (id.search(/^[A-Z](1|2)\d{8}$/i) == -1)
				    {  
				        //alert('身分證號碼基本格式錯誤');  
				        return false;			        
				    }
				    else
				    {			    
				    	//將字串分割為陣列(IE必需這麼做才不會出錯)  
				        id = id.split('');  
				        //計算總分  
				        var total = city[id[0].charCodeAt(0)-65];  
				        for(var i=1; i<=8; i++)
				        {  
				            total += eval(id[i]) * (9 - i);  
				        }  
				        //補上檢查碼(最後一碼)  
				        total += eval(id[9]);  
				        
				        //檢查比對碼(餘數應為0);  
					     if(total%10 != 0)
					     {			        
					        //alert("身分證號碼有錯誤")
					     }
					     else
					     {
					    	 //applyForm.submit();
					    	 return true;
					     }
				    }
	}
</script>


<style>
a:link {background-color:#FF0000;}    /* unvisited link */
a:visited {background-color:#00FF00;} /* visited link */
a:hover {background-color:#0000FF;}   /* mouse over link */
a:active {background-color:#FFFF00;}  /* selected link */
body {background-color:#70c0c0;}
input[type="text"]{ font-size:1em;}
input[type="radio"]{ font-size:1em;}
input[type="submit"]{ font-size:1em;}
input[type="reset"]{ font-size:1em;}
select{ font-size:1em;}
li {font-size: 1em; padding: 0.2em};
</style>
</head>
<body>
<form action = "stuApply.jsp" method = "post" name="applyForm"> 
<h1>請輸入您的基本資料:</h1>
<hr size=1 color=blue width=100%>
<ol >
<li><b>姓名:</b>
<input type = "text" name = "stud_name" value ="張小明" >  </li>
<li><b>身分證號碼:</b>
<input type = "text" name = "stud_id" value ="A123456789" size="10" maxlength="10"></li>
<li><b>性別 :</b>
<input type = "radio" name = "stud_gender" value = "男"> 男 
<input type = "radio" name = "stud_gender" value = "女"> 女 <br></li>

<li><b>生日:</b>
<select id ="varYear" name="varYear" onchange ="genBirthday()">
<option> 1960年 </option><option> 1961年 </option><option> 1962年 </option><option> 1963年 </option><option> 1964年 </option><option> 1965年 </option><option> 1966年 </option><option> 1967年 </option><option> 1968年 </option><option> 1969年 </option>
<option> 1970年 </option><option> 1971年 </option><option> 1972年 </option><option> 1973年 </option><option> 1974年 </option><option> 1975年 </option><option> 1976年 </option><option> 1977年 </option><option> 1978年 </option><option> 1979年 </option>
<option> 1980年 </option><option> 1981年 </option><option> 1982年 </option><option> 1983年 </option><option> 1984年 </option><option> 1985年 </option><option> 1986年 </option><option> 1987年 </option><option> 1988年 </option><option> 1989年 </option>
<option> 1990年 </option><option> 1991年 </option><option> 1992年 </option><option> 1993年 </option><option> 1994年 </option><option> 1995年 </option><option> 1996年 </option><option> 1997年 </option><option> 1998年 </option><option> 1999年 </option>
<option> 2000年 </option><option> 2001年 </option><option> 2002年 </option><option> 2003年 </option><option> 2004年 </option><option> 2005年 </option><option> 2006年 </option><option> 2007年 </option><option> 2008年 </option><option> 2009年 </option>
<option> 2010年 </option>
</select> 

<select id ="varMonth" name="varMonth" onchange ="genBirthday()" >
<option> 1月 </option><option> 2月 </option><option> 3月 </option>
<option> 4月</option><option> 5月 </option><option> 6月 </option>
<option> 7月 </option><option> 8月 </option><option> 9月 </option>
<option> 10月 </option><option> 11月 </option><option> 12月 </option>
</select> 

<select id ="varDate" name="varDate" onchange ="genBirthday()">
<option> 1日 </option><option> 2日 </option><option> 3日 </option>
<option> 4日</option><option> 5日 </option><option> 6日 </option>
<option> 7日 </option><option> 8日 </option><option> 9日 </option>
<option> 10日 </option><option> 11日 </option><option> 12日 </option>
<option> 13日 </option><option> 14日</option><option> 15日 </option>
<option> 16日 </option><option> 17日 </option><option> 18日 </option>
<option> 19日 </option><option> 20日 </option><option> 21日 </option>
<option> 22日 </option><option> 23日 </option><option> 24日 </option>
<option> 25日 </option><option> 26日 </option><option> 27日 </option>
<option> 28日 </option><option> 29日 </option><option> 30日 </option>
<option> 31日 </option>
</select>
&nbsp;&nbsp;&nbsp;<input type="text" id="stud_birthday" name="stud_birthday" value ="" readonly style="background-color:#70c0c0;border:solid 0px;">
</li>


<li><b>聯絡地址:</b>
<input type = "text" name = "stud_address" size = "50" value ="台北市忠孝東路四段168號12樓"></li>

<li><b>聯絡電話:</b>
<input type = "text" name = "stud_phone_num" value ="0937123666" ></li>
</ol>
<hr size=1 color=blue width=100%>
<input type = "button" value = "完成輸入" onclick ="formCheck(applyForm)">
<input type = "reset" value = "重新輸入">

</form>
</body>
</html>